<!DOCTYPE HTML>
<html>
<head>
    <title>Rental Dash Pro</title>
    <!--jQuery-->
    <script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
    <!--Bootstrap-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!--Bootstrap JS-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>
    <!--Materialize-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <!--Materialize JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
    <!--Native CSS-->
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
    <!--dropdown structure-->
    <ul id="dropdown1" class="dropdown-content">
        <li><a href="#">one</a></li>
        <li><a href="#">two</a></li>
        <li><a href="#">three</a></li>
    </ul>
    <nav>
        <div class="nav-wrapper">
            <a href="index.html" class="brand-logo">Rental Dash Pro</a>
            <ul id="nav-mobile" class="right hide-on-meds-and-down">
                <li><a href="#">Link 1</a></li>
                <li><a href="#">Link 2</a></li>
                <!--dropdown trigger-->
                <li><a class="dropdown-button" href="#" data-activates="dropdown1">Dropdown</a></li>
            </ul>
        </div>
    </nav>

    <div class="row">
        <div class="col s12 m6">
            <div class="card">
                <div class="card-content row">
                    <div id="rent">
                    <div class="card-title col s9">Rent</div><div class="col s3">
                        <input disabled class="right-align test" type="text" id="rent-input" value="$1,500.00">
                    </div>
                        </div>
                    <div class="card-title col s9">Mortgage</div><div class="col s3">
                        <input disabled class="right-align test" type="text" id="mort-input" value="$1,500.00">
                    </div>
                    <div class="card-title col s9">HOA Fees</div><div class="col s3">
                        <input disabled class="right-align test" type="text" id="hoa-input" value="$1,500.00">
                    </div>
                    <div class="card-title col s9">Maintenence Expenses</div><div class="col s3">
                        <input disabled class="right-align test" type="text" id="maint-input" value="$1,500.00">
                    </div>
                </div>
                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 70%">
                        <span class="sr-only">40% Complete (success)</span>
                    </div>
                </div>
                <div id="saveEditButton">
                    <a class="waves-effect waves-light btn" id="editSaveBtn">Edit</a>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/javascript/script.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.2.1/firebase.js"></script>
<script>
    $(document).ready(function() {

        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyBz1HP3qVgiI2CyXWFnKV6z9AKnM4CXJyE",
            authDomain: "rental-dash-pro.firebaseapp.com",
            databaseURL: "https://rental-dash-pro.firebaseio.com",
            storageBucket: "rental-dash-pro.appspot.com",
        };
        firebase.initializeApp(config);

        var database = firebase.database();




        $("#editSaveBtn").on('click', function () {
            if ($('#editSaveBtn').text() == "Save") {
                $('#editSaveBtn').text('Edit');
                $('.test').attr('disabled', true);
                $('#rent-input').attr('value', $('#rent-input').val());
                $('#mort-input').attr('value', $('#mort-input').val());
                $('#hoa-input').attr('value', $('#hoa-input').val());
                $('#maint-input').attr('value', $('#maint-input').val());

                var rent = $('#rent-input').val().trim();
                var mortgage = $('#mort-input').val().trim();
                var hoa = $('#hoa-input').val().trim();
                var maint = $('#maint-input').val().trim();

                database.ref().set({
                    rent: rent,
                    mortgage: mortgage,
                    hoa: hoa,
                    maint: maint,
                });

            } else if ($('#editSaveBtn').text() == "Edit") {
                $('#editSaveBtn').text('Save');
                $('.test').removeAttr('disabled');
            }

        });

        database.ref().on("value", function(snapshot, value) {
            var rent = snapshot.val().rent;
            var mortgage = snapshot.val().mortgage;
            var hoa = snapshot.val().hoa;
            var maint = snapshot.val().maint;

            $('#rent-input').attr('value', rent);
            $('#mort-input').attr('value', mortgage);
            $('#hoa-input').attr('value', hoa);
            $('#maint-input').attr('value', maint);
        });
    });
</script>
</body>
</html>

